// Generated by CoffeeScript 1.3.3
(function(){$(document).ready(function(){var e,t,n,r,i,s,o,u,a;o=function(){$(this).addClass("hover");return $("ul:first",this).slideDown(200,"swing")};s=function(){return $("ul:first",this).slideUp(200,"swing",function(){return $(this).parent("li").removeClass("hover")})};i={over:o,sensitivity:10,interval:0,timeout:100,out:s};$("nav.menu ul li:has(ul)").hoverIntent(i);$("#slider").nivoSlider();$.scrollUp({location:"right",image_src:"img/arrow_up.png",wait:100,time:300});$(".portfolio .item a.lightbox, .gallery-icon a").fancybox({overlayOpacity:.6,overlayColor:"#000",titlePosition:"inside"},$("a[rel=tipsy]").tipsy({fade:!0,gravity:"s"}));e=$("#portfolio-filter");r=e.data("cols");e.isotope({itemSelector:".item",resizable:!1,masonry:{columnWidth:e.width()/r}});$(window).smartresize(function(){return e.isotope({masonry:{columnWidth:e.width()/r}})});$("#filters a").click(function(){var t;t=$(this).attr("data-filter");$("#filters a").removeClass("active");$(this).addClass("active");e.isotope({filter:t});return!1});$("nav.menu > ul").tinyNav({active:"current-menu-item"});n=function(){var e;e=navigator.userAgent;return{ie:e.match(/MSIE\s([^;]*)/)}};t=function(e){var t,r,i,s,o,u,a,f;t=new Date;r=new Date(e);n.ie&&(r=Date.parse(e.replace(/( \+)/," UTC$1")));i=t-r;o=1e3;a=o*60;u=a*60;s=u*24;f=s*7;return isNaN(i)||i<0?"":i<o*7?"right now":i<a?Math.floor(i/o)+" seconds ago":i<a*2?"about 1 minute ago":i<u?Math.floor(i/a)+" minutes ago":i<u*2?"about 1 hour ago":i<s?Math.floor(i/u)+" hours ago":i>s&&i<s*2?"yesterday":i<s*365?Math.floor(i/s)+" days ago":"over a year ago"};u="envato";$.getJSON("http://api.twitter.com/1/statuses/user_timeline.json?screen_name="+u+"&include_rts=true&include_entities=true&count=2&callback=?",function(e){var n;n=e[0].text;$.each(e,function(){var e;$(this)[0].retweeted_status?e="retweet":e="";n=$(this)[0].text;n=n.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,function(e){return'<a href="'+e+'">'+e+"</a>"}).replace(/B@([_a-z0-9]+)/ig,function(e){return e.charAt(0)+'<a href="http://twitter.com/'+e.substring(1)+'">'+e.substring(1)+"</a>"});return $("#tweets").append('<li class="'+e+'">'+n+'<span><a href="http://twitter.com/'+$(this)[0].user.screen_name+"/status/"+$(this)[0].id+'" terget="_blank">'+t($(this)[0].created_at)+"</a></span></li>")});return $("#tweets").fadeIn(300)});$(".header-notice a.close").click(function(){$(".header-notice").slideUp(200);return!1});$(".alert .close").live("click",function(){$(this).parent(".alert").fadeOut(200);return!1});a=function(e){var t;t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\.+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)};return $("#contact_form").submit(function(){var e,t,n;$(".alert",this).remove();$("input[type=submit]").attr("disabled","disabled");n=$("#name",this).val();e=$("#email",this).val();t=$("#message",this).val();if(n===""||e===""||t===""){$("#contact_form").prepend('<div class="alert alert-warning">\n	          <p><strong>Notice:</strong> No fields can be blank.</p>\n	          <a href="#" class="close">X</a>\n	        </div>');$("input[type=submit]").removeAttr("disabled");return!1}if(!a(e)){$("#contact_form").prepend('<div class="alert alert-warning">\n	            <p><strong>Notice:</strong> Your email is not valid.</p>\n	            <a href="#" class="close">X</a>\n	        </div>');$("input[type=submit]").removeAttr("disabled");return!1}$.post("mailer.php",{name:n,email:e,message:t},function(e){e===""&&$("#contact_form").prepend('<div class="alert alert-error">\n	              <p><strong>Sorry:</strong> Something went wrong, try later.</p>\n	              <a href="#" class="close">X</a>\n	            </div>');if(e==="success"){$("#contact_form").prepend('<div class="alert alert-success">\n	              <p><strong>Success:</strong> Your message was sent!</p>\n	              <a href="#" class="close">X</a>\n	            </div>');$("#contact_form input[type=text], #contact_form input[type=email], #contact_form textarea").val("");return $("input[type=submit]").removeAttr("disabled")}});return!1})})}).call(this);